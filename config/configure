#!/bin/sh -x
######################################################################
#                                                                    #
#                           ScicosLab                                #
#                                                                    #
#          Pierre Weis, INRIA Rocquencourt                           #
#                                                                    #
#  Copyright 2010-2011,                                              #
#  Institut National de Recherche en Informatique et en Automatique. #
#  All rights reserved.                                              #
#                                                                    #
#  This file is distributed under the terms of the Q Public License. #
#                                                                    #
######################################################################

# $Id: configure 4781 2012-02-29 16:03:12Z weis $

# The script to configure Params.mk to set up the value of INSTALL_DIR.

PREFIX_INSTALL_DIR=${PREFIX}
SRC_INSTALL_DIR=${SRC_ROOT_DIR}/scilab

GENERATED=Config.mk

rm -f $GENERATED

echo "#" > $GENERATED
echo "# Warning: this file has been generated." >> $GENERATED
echo "#" >> $GENERATED
echo "# DO NOT EDIT THIS FILE!" >> $GENERATED
echo "#" >> $GENERATED
echo "# The editable source of this file is in $GENERATED.in" >> $GENERATED
echo "#" >> $GENERATED

sed -e "s|SRC_ROOT_DIR=.*|SRC_ROOT_DIR=${SRC_ROOT_DIR}|" \
    -e "s|PREFIX_INSTALL_DIR=.*|PREFIX_INSTALL_DIR=${PREFIX_INSTALL_DIR}|" \
    -e "s|SRC_INSTALL_DIR=.*|SRC_INSTALL_DIR=$SRC_INSTALL_DIR|" \
$GENERATED.in >> $GENERATED

chmod -w $GENERATED
